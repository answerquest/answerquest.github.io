<!DOCTYPE html>
<html>
<head>
<title>Map Printer</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<!-- <link rel="stylesheet" href="lib/leaflet.css" /> -->
<link href="lib/jquery-ui.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<link rel="stylesheet" href="https://unpkg.com/leaflet-better-filelayer@0.1.1/dist/leaflet.betterfilelayer.css" crossorigin="anonymous" referrerpolicy="no-referrer">

<!-- <link rel="stylesheet" href="lib/leaflet-sidebar.css" /> -->
<!-- <link href="lib/tabulator.min.css" rel="stylesheet"> -->
<!-- <link href="lib/simTree.css" rel="stylesheet"> -->
<!-- <link rel="stylesheet" href="lib/Leaflet.BigImage.min.css">
 -->
<!-- Put the CSSs first and JSs next -->

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script type="application/javascript" src="https://unpkg.com/leaflet-better-filelayer@0.1.1/dist/leaflet.betterfilelayer.min.js" crossorigin="anonymous"></script>

<!-- <script src="lib/jquery-3.3.1.min.js" type="text/javascript"></script> -->
<!-- <script src="lib/jquery-ui.min.js" type="text/javascript"></script> -->
<!-- <script src="lib/leaflet.js"></script> -->
<!-- <script src="lib/leaflet-sidebar.min.js"></script> -->
<!-- <script src="lib/papaparse.min.js"></script> -->
<!-- <script src="lib/Leaflet.Control.Custom.js"></script> -->
<script src="lib/leaflet-providers.js"></script>
<!-- <script src="lib/tabulator.min.js" type="text/javascript"></script> -->
<!-- <script src="lib/leaflet-hash.min.js"></script> -->
<!-- <script src="lib/simTree.js"></script> -->
<!-- <script src="lib/Leaflet.BigImage.min.js"></script>
<script src="lib/leaflet.browser.print.min.js"></script>
<script src="https://unpkg.com/leaflet-image@latest/leaflet-image.js"></script> -->

<style>
body {
    padding: 0;
    margin: 0;
    min-height: auto; 
}

.leaflet-container {
    background: white;
}

.nopad {
    padding-left: 0px;
    padding-right: 0px;
}
.map {
    width: 100%;
    height: 100%;
}

.page {
    border: 1px solid gray;
    width: 1000px;
    height: 1450px;
    padding: 0px;
}

.bi-heart-fill {
    color: darkred;
}

/* no print. from https://stackoverflow.com/questions/355313/how-do-i-hide-an-element-when-printing-a-web-page#356123 */
@media print
{    
    .no-print, .no-print *, .leaflet-control-zoom-in, .leaflet-control-zoom-out, .leaflet-control-attribution, #topMenu, .collapse, .leaflet-control-layers
    {
        display: none !important;
    }
    body{
        width: 21cm;
        height: 29.7cm;
    }
    .page {
        page-break-after: always;
    }
}


</style>
</head>
<body>
<div class="container-fluid no-print">
<div class="row">
<div class="col-md-4">
    <h3>Map Printer</h3>
    <p class="mb-0">Instructions</p>
    <ul>
        <li>Drag-drop a shape file (preferably .geojson format) onto this map to display its border.</li>
        <li>You can drop multiple files one by one also.</li>
    </ul>
    
    <p><button onclick="zoomFit()" class="btn btn-warning">Fit map to Layers</button>
    &nbsp;&nbsp;&nbsp;&nbsp; 
    <button onclick="window.print()" class="btn btn-primary">Print</button></p>
    
    
</div>
<div class="col-md-4">
    
    <h3>Customize the map</h3>
    <p>Change page dimensions: <small>can make it big!</small><br>
    Width:<input class="width" size="5" value="1000" type="number" min="100" max="100000" step="10">px, 
    Height:<input class="height" size="5" value="1450" type="number" min="100" max="100000" step="10">px<br>
    <button onclick="changeDimensions()">Apply</button>
    &nbsp; | &nbsp; 
    <a onclick="changeDimensions(true)" href="javascript:;">Reset</a>
    | &nbsp; <span id="tileStatus"></span>
    </p>
    <!--Presets: <a>A4</a> | <a>A3</a> | <a>A2</a> | <a>A1</a>-->
    
    

    
    <br>
</div>
<div class="col-md-4">
    <h3>Transparency</h3>
    <!-- <p>Change color of all layers: <input class="color" value="black" size="8">  
    <button onclick="changeColor()">Apply</button>
    <br>[Under Construction]
    </p> -->
    Fill Opacity: <div class="slidecontainer"><input type="range" min="1" max="100" value="50" class="slider" id="slider1"></div>
    Border Opacity: <div class="slidecontainer"><input type="range" min="1" max="100" value="50" class="slider" id="slider2"></div>
    Map Opacity: <div class="slidecontainer"><input type="range" min="1" max="100" value="100" class="slider" id="slider3"></div>
    Change the backround layer with the layer picker over the map.
</div>
</div>
</div>

<div class="page">
<div id="map" class="map nopad"></div>
</div>

<div class="container no-print">
<br><br>
<p>Created with <i class="bi bi-heart-fill"></i> in India, by <a href="https://nikhilvj.co.in">Nikhil VJ</a> </p>
<p>Disclaimer: This map is NOT made for displaying India's political boundaries, it's made for making large full-size printouts of smaller regions inside India or elsewhere.<br>
The India boundary shown is obtained from <a href="https://onlinemaps.surveyofindia.gov.in/Home.aspx">Survey of India website</a>, is kept as fixed on this map to show official India boundary as per GOI and overriding other community-edited Openstreetmap data over which we have no control. If you're looking at border regions, kindly focus on India boundary only and don't pay any attention to others. &#x1f64f; </p>
<p>This page is released open-source under India Geo Spatial Data Guidelines, <a href="https://onlinemaps.surveyofindia.gov.in/GeospatialGuidelines.aspx">click here to know more.</a></p>
</div>

<script src="js/India_Outline_Map.js"></script>
<script src="js/print.js"></script>

</body>
</html>
